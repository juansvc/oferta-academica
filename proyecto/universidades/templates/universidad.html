{% extends "master.html"%}
{% load staticfiles %}

{% block body %}
<br><br><br><br><br>
<section id="institucion">
	<div id="contlocalidad" class="container">
		<div class="row">
			<div class="col-md-8">
				<div id ="datos-localidad-izquierda" class="row">
					<div id = "c0" class="col-xs-12 .col-sm-8">
						<h2 class="section-subheading">Información de {{institucion.nombre}}</h2>
						<strong>Acrónimo:</strong> {{institucion.acronimo}}<br>
						<strong>Tipo de Institución:</strong> {{institucion.tipo}}<br>
						<strong>Categoria:</strong> {{institucion.categoria}}<br>
						<strong>Sitio Web:</strong> <a href="{{institucion.sitio_web}}" target="_blank">{{institucion.sitio_web}}<br></a>
						<strong>Direccion:</strong> {{matriz.direccion}}<br>
						<strong>Telefono:</strong> {{matriz.telefono}}<br>
						<strong>Ciudad:</strong> {{matriz.id_ciudad.nombre}}<br>
						<hr>
						{% if institucion.n_docentes%}
						<h5>Información de Docentes</h5>
						<span class="glyphicon glyphicon-user" aria-hidden="true"></span><strong> Docentes: </strong> {{institucion.n_docentes}}<br>
						<span class="glyphicon glyphicon-education" aria-hidden="true"></span><strong> Docentes con PHD: </strong> {{institucion.n_docentes_phd}}<br><hr>
						{% endif %}
						<h5>CARRERAS</h5>
						<div id="box-carreras">
						<ul>
							{% for carreras in listado_carreras %}
							<li>{{carreras.id_carrera.nombre}}</li>
							{% endfor %}
							</ul>
						</div>
						</div>
				</div>

			</div>
			<div class="col-md-4">
				<div id="divmap" class="row" style="height: 500px;">
					<h3>MAPA</h3>
					<div id="map"></div>
					<script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>
					<script >
						function initialize() {
							var myLatlng = new google.maps.LatLng({{matriz.latitud}}, {{matriz.longitud}});
							var mapOptions = {
								zoom: 7,
								center: myLatlng
							}
							var map = new google.maps.Map(document.getElementById('map'), mapOptions);

							var marcador = new google.maps.LatLng({{matriz.latitud}}, {{matriz.longitud}});
							var marker = new google.maps.Marker({
								position: marcador,
								map: map,
								title: '{{institucion.nombre}}'
							});
							google.maps.event.addListener(marker, 'click', function(){
								var popup = new google.maps.InfoWindow();
								var note = '<h3>Matríz</h3><br>{{matriz.direccion}}<br>{{matriz.telefono}}';
								popup.setContent(note);
								popup.open(map, this);
							})
							// if ({{sede}}) {
							// 	var marcador1 = new google.maps.LatLng({{sede.latitud}}, {{sede.longitud}});
							// 	var marker1 = new google.maps.Marker({
							// 		position: marcador1,
							// 		map: map,
							// 		title: '{{institucion.nombre}}'
							// 	});
							// 	google.maps.event.addListener(marker1, 'click', function(){
							// 		var popup = new google.maps.InfoWindow();
							// 		var note = '<h3>Sede</h3><br>{{sede.direccion}}<br>{{sede.telefono}}';
							// 		popup.setContent(note);
							// 		popup.open(map, this);
							// 	})
							// }
							// if ({{extension}} == 1) {
							// 	var marcador2 = new google.maps.LatLng({{extension.latitud}}, {{extension.longitud}});
							// 	var marker2 = new google.maps.Marker({
							// 		position: marcador2,
							// 		map: map,
							// 		title: '{{institucion.nombre}}'
							// 	});
							// 	google.maps.event.addListener(marker2, 'click', function(){
							// 		var popup = new google.maps.InfoWindow();
							// 		var note = '<h3>Extensión</h3><br>{{extension.direccion}}<br>{{extension.telefono}}';
							// 		popup.setContent(note);
							// 		popup.open(map, this);
							// 	})
							// }

						}
						google.maps.event.addDomListener(window, 'load', initialize);
					</script>
			</div>
		</div>
	</div>

</div>
</section>
{% endblock%}